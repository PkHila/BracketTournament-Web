"use strict";(self.webpackChunkBracketTournament_Web=self.webpackChunkBracketTournament_Web||[]).push([[592],{7860:(p,m,a)=>{a.d(m,{c:()=>h});var o=a(1076),l=a(3945),s=a(9468);const h=(n,_)=>{const u=(0,s.f3M)(o.F0),d=n.paramMap.get("category");return!(!d||!(0,l.U2)(d))||u.parseUrl("404")}},2551:(p,m,a)=>{a.d(m,{n:()=>f});var o=a(5619),l=a(7398),s=a(2096),h=a(9315),n=a(1631),_=a(5177),u=a(9468),d=a(9862);let f=(()=>{class i{constructor(e){this.http=e,this.baseUrl="http://localhost:3000",this.templateNamesInDatabase=new o.X([])}fetchTemplateNames(){this.http.get(`${this.baseUrl}/templates`).pipe((0,l.U)(e=>e.map(r=>r.templateName.toLocaleLowerCase()))).subscribe({next:e=>{this.templateNamesInDatabase.next(e)},error:()=>{console.log("error")}})}checkTemplateNameExists(e){const t=e.trim().toLocaleLowerCase().replace(/\s+/g," ");return(0,s.of)(this.templateNamesInDatabase.value.includes(t))}postTemplateLegacy(e){e.contestantIds=[];const t=e.contestants.map(r=>this.handleContestantPostings(r));return(0,h.D)(t).pipe((0,n.z)(r=>(r.forEach(E=>{e.contestantIds.push(E.id)}),e.contestants=void 0,(0,s.of)(null).pipe((0,_.g)(3e3)).pipe((0,n.z)(()=>this.http.post(`${this.baseUrl}/templates`,e))))))}handleContestantPostings(e){return void 0===e.img&&(e.img=""),void 0===e.date&&(e.date=""),void 0===e.author&&(e.author=""),this.http.get(`${this.baseUrl}/contestants?name=${e.name}&img=${e.img}&date=${e.date}&author=${e.author}`).pipe((0,n.z)(t=>(e.id=t[0]?.id,void 0===e.id?(0,s.of)(null).pipe((0,_.g)(1e3)).pipe((0,n.z)(()=>this.postContestant(e))):(0,s.of)(e))))}postContestant(e){return this.http.post(`${this.baseUrl}/contestants`,e)}addContestant(e,t){void 0===t.find(r=>r.name==e.name&&r.author==e.author&&r.date==e.date&&r.img==e.img)&&t.push(e)}removeContestant(e,t){t.splice(t.indexOf(e),1)}calculateTournamentWinRate(e){return 0!=e.tournamentsPlayed&&e.tournamentsPlayed&&e.tournamentsWon?Math.round(100*e.tournamentsWon/e.tournamentsPlayed):0}calculateMatchWinRate(e){return e.matchesPlayed&&e.matchesWon&&0!=e.matchesPlayed?Math.round(100*e.matchesWon/e.matchesPlayed):0}initializeUndefinedStatistics(e){void 0===e.matchesPlayed&&(e.matchesPlayed=0),void 0===e.matchesWon&&(e.matchesWon=0),void 0===e.tournamentsPlayed&&(e.tournamentsPlayed=0),void 0===e.tournamentsWon&&(e.tournamentsWon=0)}static#e=this.\u0275fac=function(t){return new(t||i)(u.LFG(d.eN))};static#a=this.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);